import{u as w,a as x,r as v,b as y,c as a,o as V,d as h,e as r,f as s,w as t,g as k,h as L,i as R,E as p}from"./index-2a54ad0e.js";import{_ as U}from"./_plugin-vue_export-helper-c27b6911.js";const B={class:"page-container"},C={class:"card-container"},E={__name:"Login",setup(F){const _=w(),u=x(),l=v(),o=y({username:"",password:""}),g={username:[{required:!0,message:"请输入用户名或邮箱",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能少于6位",trigger:"blur"}]},d=async()=>{l.value&&await l.value.validate(async m=>{if(m){const e=await u.login(o);e.success?(p.success("登录成功"),_.push("/dashboard")):p.error(e.message)}})};return(m,e)=>{const c=a("el-input"),n=a("el-form-item"),f=a("el-button"),b=a("el-form");return V(),h("div",B,[r("div",C,[e[3]||(e[3]=r("div",{class:"text-center mb-8"},[r("h1",{class:"gradient-text text-3xl mb-2 mobile-text-responsive"},"🏞️ 智能旅行游记生成器"),r("p",{class:"text-gray-600 mobile-text-sm"},"用AI为您的旅行留下美好回忆")],-1)),s(b,{ref_key:"loginFormRef",ref:l,model:o,rules:g,"label-width":"0",size:"large",class:"mobile-form"},{default:t(()=>[s(n,{prop:"username"},{default:t(()=>[s(c,{modelValue:o.username,"onUpdate:modelValue":e[0]||(e[0]=i=>o.username=i),placeholder:"用户名或邮箱","prefix-icon":"User",clearable:"",class:"mobile-input"},null,8,["modelValue"])]),_:1}),s(n,{prop:"password"},{default:t(()=>[s(c,{modelValue:o.password,"onUpdate:modelValue":e[1]||(e[1]=i=>o.password=i),type:"password",placeholder:"密码","prefix-icon":"Lock","show-password":"",clearable:"",class:"mobile-input",onKeyup:k(d,["enter"])},null,8,["modelValue"])]),_:1}),s(n,null,{default:t(()=>[s(f,{type:"primary",size:"large",style:{width:"100%"},loading:L(u).loading,onClick:d,class:"mobile-button"},{default:t(()=>e[2]||(e[2]=[R(" 登录 ")])),_:1,__:[2]},8,["loading"])]),_:1})]),_:1},8,["model"])])])}}},z=U(E,[["__scopeId","data-v-a431cfd0"]]);export{z as default};
