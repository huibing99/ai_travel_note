import{u as w,a as v,r as y,b as V,c as a,o as k,d as L,e as t,f as s,w as l,g as C,h as R,i as _,E as g}from"./index-210969f0.js";import{_ as U}from"./_plugin-vue_export-helper-c27b6911.js";const h={class:"page-container"},B={class:"card-container"},E={class:"text-center mobile-register-link"},F={__name:"Login",setup(N){const f=w(),d=v(),n=y(),o=V({username:"",password:""}),b={username:[{required:!0,message:"请输入用户名或邮箱",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},m=async()=>{n.value&&await n.value.validate(async i=>{if(i){const e=await d.login(o);e.success?(g.success("登录成功"),f.push("/dashboard")):g.error(e.message)}})};return(i,e)=>{const p=a("el-input"),u=a("el-form-item"),c=a("el-button"),x=a("el-form");return k(),L("div",h,[t("div",B,[e[6]||(e[6]=t("div",{class:"text-center mb-8"},[t("h1",{class:"gradient-text text-3xl mb-2 mobile-text-responsive"},"✨ 智能旅行游记生成器"),t("p",{class:"text-gray-600 mobile-text-sm"},"用AI为您的旅行留下美好回忆")],-1)),s(x,{ref_key:"loginFormRef",ref:n,model:o,rules:b,"label-width":"0",size:"large",class:"mobile-form"},{default:l(()=>[s(u,{prop:"username"},{default:l(()=>[s(p,{modelValue:o.username,"onUpdate:modelValue":e[0]||(e[0]=r=>o.username=r),placeholder:"用户名或邮箱","prefix-icon":"User",clearable:"",class:"mobile-input"},null,8,["modelValue"])]),_:1}),s(u,{prop:"password"},{default:l(()=>[s(p,{modelValue:o.password,"onUpdate:modelValue":e[1]||(e[1]=r=>o.password=r),type:"password",placeholder:"密码","prefix-icon":"Lock","show-password":"",clearable:"",class:"mobile-input",onKeyup:C(m,["enter"])},null,8,["modelValue"])]),_:1}),s(u,null,{default:l(()=>[s(c,{type:"primary",size:"large",style:{width:"100%"},loading:R(d).loading,onClick:m,class:"mobile-button"},{default:l(()=>e[3]||(e[3]=[_(" 登录 ")])),_:1,__:[3]},8,["loading"])]),_:1})]),_:1},8,["model"]),t("div",E,[e[5]||(e[5]=t("span",{class:"text-gray-600 mobile-text-sm"},"还没有账号？",-1)),s(c,{type:"text",onClick:e[2]||(e[2]=r=>i.$router.push("/register")),class:"mobile-link-button"},{default:l(()=>e[4]||(e[4]=[_(" 立即注册 ")])),_:1,__:[4]})])])])}}},I=U(F,[["__scopeId","data-v-7a7ac2e2"]]);export{I as default};
