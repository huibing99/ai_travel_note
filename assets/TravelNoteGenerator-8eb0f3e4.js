import{u as he,a as we,r as C,j as be,L as _e,c as S,o as u,d as w,e as o,f as i,w as v,M as J,H as ke,I as V,F as O,m as Q,l as D,t as G,E as m,N as Ce,h as I,O as Ie,P as Ee,D as Y,Q as Te,R as $e,S as Se,K as ze,s as Ve,i as De}from"./index-1766a76c.js";import{h as Le}from"./html2canvas.esm-85f1a6b6.js";import{_ as Ae}from"./_plugin-vue_export-helper-c27b6911.js";const Ue={class:"dashboard-container"},Me={class:"dashboard-card",style:{padding:"20px","margin-bottom":"20px"}},Re={style:{display:"flex","justify-content":"space-between","align-items":"center"}},Pe={class:"back-icon"},Fe={class:"two-column-layout",style:{display:"grid","grid-template-columns":"1fr 1fr",gap:"20px"}},Be={class:"dashboard-card left-column",style:{padding:"30px"}},Ne={class:"form-section"},He={class:"form-section"},Oe={key:2,style:{margin:"0",color:"#666"},class:"mobile-text-sm"},Ge={key:3,style:{margin:"0",color:"#667eea"},class:"mobile-text-sm"},Ye={key:0,class:"image-preview"},je=["src","alt"],We=["onClick"],Ke={class:"form-section"},qe={class:"form-section"},Je={style:{"margin-top":"30px"}},Qe={class:"button-content"},Xe={class:"button-icon"},Ze={class:"button-text"},et={class:"main-text"},tt={class:"sub-text"},ot={class:"dashboard-card right-column",style:{padding:"30px"}},at={style:{display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"20px","flex-wrap":"wrap",gap:"10px"}},lt={key:0,class:"result-actions"},nt={key:0,style:{"text-align":"center",padding:"60px 20px",color:"#999"}},st={key:1,style:{"text-align":"center",padding:"60px 20px"}},it={key:2,class:"generate-result"},rt=["innerHTML"],dt={class:"image-preview-container"},ct=["src"],ut={class:"save-tips"},pt={class:"tip-text"},mt={class:"tip-title"},gt={key:0,class:"tip-desc"},vt={key:1,class:"wechat-tips"},ft={__name:"TravelNoteGenerator",setup(xt){const ae=he(),j=we(),P=C(!1),y=C([]),E=C(!1),_=C(""),X=C(),z=C(!1),A=C(!1),Z=C(),F=C(!1),B=C(""),l=C({model:"gemini-2.5-flash",writingStyle:"å°çº¢ä¹¦çˆ†æ¬¾é£",customStyle:"",location:"",date:"",companions:"",specialExp:"",emotionKeywords:"",otherInfo:""}),le=[{label:"æ¨¡å‹1",value:"gemini-2.5-flash"},{label:"æ¨¡å‹2",value:"gemini-2.0-flash"},{label:"æ¨¡å‹3",value:"gpt-4o-mini"},{label:"æ¨¡å‹4",value:"qwen2.5-vl-32b-instruct"},{label:"æ¨¡å‹5",value:"hunyuan-turbo-vision"}],ne=[{label:"å°çº¢ä¹¦çˆ†æ¬¾é£",value:"å°çº¢ä¹¦çˆ†æ¬¾é£"},{label:"é²è¿…å†·å³»é£",value:"é²è¿…å†·å³»é£"},{label:"çŸ¥ä¹ä½“ç¡¬æ ¸é£",value:"çŸ¥ä¹ä½“ç¡¬æ ¸é£"},{label:"æ–‡è‰ºæ¸…æ–°é£",value:"æ–‡è‰ºæ¸…æ–°é£"},{label:"å¹½é»˜é£è¶£é£",value:"å¹½é»˜é£è¶£é£"},{label:"äººæ–‡è€ƒæ®é£",value:"äººæ–‡è€ƒæ®é£"},{label:"æ„Ÿå®˜æ²‰æµ¸é£",value:"æ„Ÿå®˜æ²‰æµ¸é£"},{label:"æç®€ä¸»ä¹‰é£",value:"æç®€ä¸»ä¹‰é£"},{label:"è‡ªå®šä¹‰",value:"è‡ªå®šä¹‰"}],se=be(()=>{if(!_.value)return"";let t=_.value;return t=t.replace(/\[å›¾(\d+)\]/g,(e,n)=>{const r=parseInt(n)-1;return r>=0&&r<y.value.length?`<img src="${y.value[r].preview}" alt="å›¾ç‰‡${n}" style="max-width: min(600px, 100%); height: auto; border-radius: 8px; margin: 16px 0; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); display: block;" />`:e}),t}),ie=()=>{var t;z.value||(t=X.value)==null||t.click()},re=t=>{const e=Array.from(t.target.files);ee(e)},de=t=>{if(t.preventDefault(),P.value=!1,z.value)return;const e=Array.from(t.dataTransfer.files);ee(e)},ee=async t=>{const e=t.filter(n=>n.type.startsWith("image/"));if(y.value.length+e.length>9){m.warning("æœ€å¤šåªèƒ½ä¸Šä¼ 9å¼ å›¾ç‰‡");return}if(e.length===0){m.warning("è¯·é€‰æ‹©æœ‰æ•ˆçš„å›¾ç‰‡æ–‡ä»¶");return}z.value=!0,m.info(`æ­£åœ¨å‹ç¼© ${e.length} å¼ å›¾ç‰‡ï¼Œè¯·ç¨å€™...`);try{for(const n of e)try{const r=await ce(n),p=new FileReader;p.onload=s=>{y.value.push({file:r,preview:s.target.result,name:n.name,originalSize:n.size,compressedSize:r.size})},p.readAsDataURL(r)}catch(r){console.error("å›¾ç‰‡å‹ç¼©å¤±è´¥:",r),m.error(`å›¾ç‰‡ ${n.name} å‹ç¼©å¤±è´¥: ${r.message}`)}m.success(`æˆåŠŸå‹ç¼© ${e.length} å¼ å›¾ç‰‡`)}finally{z.value=!1}},ce=t=>new Promise((e,n)=>{const r=document.createElement("canvas"),p=r.getContext("2d"),s=new Image;s.onload=()=>{let{width:d,height:g}=s;const k=1920;d>g?d>k&&(g=g*k/d,d=k):g>k&&(d=d*k/g,g=k),r.width=d,r.height=g,p.drawImage(s,0,0,d,g);const $=a=>{r.toBlob(T=>{if(!T){n(new Error("å›¾ç‰‡å‹ç¼©å¤±è´¥"));return}if(T.size<=1024*1024||a<=.1){const L=new File([T],t.name,{type:T.type,lastModified:Date.now()});e(L)}else $(Math.max(.1,a-.1))},t.type==="image/png"?"image/jpeg":t.type,a)};$(.8)},s.onerror=()=>{n(new Error("å›¾ç‰‡åŠ è½½å¤±è´¥"))};const f=new FileReader;f.onload=d=>{s.src=d.target.result},f.onerror=()=>{n(new Error("æ–‡ä»¶è¯»å–å¤±è´¥"))},f.readAsDataURL(t)}),ue=t=>{y.value.splice(t,1)},pe=async()=>{if(y.value.length===0){m.warning("è¯·å…ˆä¸Šä¼ å›¾ç‰‡");return}E.value=!0,_.value="";try{const t=new FormData;y.value.forEach((p,s)=>{t.append("images",p.file)}),t.append("model_selection",l.value.model),t.append("location",l.value.location),t.append("date",l.value.date),t.append("companions",l.value.companions),t.append("special_exp",l.value.specialExp),t.append("emotion_keywords",l.value.emotionKeywords),t.append("other_info",l.value.otherInfo),t.append("writing_style",l.value.writingStyle),l.value.writingStyle==="è‡ªå®šä¹‰"&&t.append("custom_style_input",l.value.customStyle);const e=await fetch(Ce("/travel-notes/generate"),{method:"POST",headers:{Authorization:`Bearer ${j.token}`},body:t});if(!e.ok){if(e.status===401){const s=window.location.hash||window.location.pathname;localStorage.getItem("token")&&!s.includes("login")&&(localStorage.removeItem("token"),j.logout(),ae.push("/login"),m.error("ç™»å½•å·²è¿‡æœŸï¼Œè¯·é‡æ–°ç™»å½•"));return}const p=await e.text();throw new Error(`ç”Ÿæˆå¤±è´¥: ${p}`)}const n=e.body.getReader(),r=new TextDecoder;for(;;){const{done:p,value:s}=await n.read();if(p)break;const f=r.decode(s,{stream:!0});_.value+=f}}catch(t){console.error("ç”Ÿæˆæ¸¸è®°å¤±è´¥:",t),m.error("ç”Ÿæˆæ¸¸è®°å¤±è´¥ï¼Œè¯·é‡è¯•")}finally{E.value=!1}},me=()=>{E.value=!1,m.info("å·²å–æ¶ˆç”Ÿæˆ")},ge=async()=>{try{if(!navigator.clipboard.write){await navigator.clipboard.writeText(_.value),m.success("å†…å®¹å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼ˆçº¯æ–‡æœ¬æ ¼å¼ï¼‰");return}let t=_.value;const e=[],n=[];for(let s=0;s<y.value.length;s++){const f=y.value[s],d=fetch(f.preview).then(g=>g.blob()).then(g=>(n[s]=g,g));e.push(d)}await Promise.all(e),t=t.replace(/\[å›¾(\d+)\]/g,(s,f)=>{const d=parseInt(f)-1;return d>=0&&d<y.value.length?`<img src="${y.value[d].preview}" alt="å›¾ç‰‡${f}" style="max-width: 300px; height: auto; border-radius: 8px; margin: 8px 0;" />`:s});const r=`
      <div style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; line-height: 1.6; color: #333;">
        ${t.replace(/\n/g,"<br>")}
      </div>
    `,p=new ClipboardItem({"text/html":new Blob([r],{type:"text/html"}),"text/plain":new Blob([_.value],{type:"text/plain"})});await navigator.clipboard.write([p]),m.success("å›¾æ–‡å†…å®¹å·²å¤åˆ¶åˆ°å‰ªè´´æ¿")}catch(t){console.error("å¤åˆ¶å¤±è´¥:",t);try{await navigator.clipboard.writeText(_.value),m.success("å†…å®¹å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼ˆçº¯æ–‡æœ¬æ ¼å¼ï¼‰")}catch{m.error("å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨é€‰æ‹©å¤åˆ¶")}}},ve=()=>/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=768,h=()=>/micromessenger/i.test(navigator.userAgent),fe=async()=>{if(!_.value||!Z.value){m.warning("æ²¡æœ‰å¯åˆ†äº«çš„å†…å®¹");return}A.value=!0,m.info("æ­£åœ¨ç”Ÿæˆåˆ†äº«å›¾ç‰‡ï¼Œè¯·ç¨å€™...");try{const t=document.createElement("div"),e=h()?540:600,n=h()?20:30;t.style.cssText=`
      position: fixed;
      top: -9999px;
      left: -9999px;
      width: ${e}px;
      background: #fff;
      padding: ${n}px;
      border-radius: 16px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      line-height: 1.6;
      color: #333;
    `;const r=document.createElement("div");r.style.cssText=`
      font-size: ${h()?"20px":"24px"};
      font-weight: 700;
      color: #2c3e50;
      margin-bottom: 16px;
      text-align: center;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    `,r.textContent="âœ¨ AIæ™ºèƒ½æ—…è¡Œæ¸¸è®°";const p=document.createElement("div");p.style.cssText=`
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 14px;
      background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
      border-radius: 8px;
      margin-bottom: 16px;
      border-left: 4px solid #667eea;
      font-size: 12px;
      color: #495057;
    `;const s=document.createElement("div");s.style.cssText=`
      display: flex;
      align-items: center;
      gap: 6px;
    `;const f=document.createElement("div");f.style.cssText=`
      width: 20px;
      height: 20px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: 600;
      font-size: 10px;
    `;const d=j.user,g=(d==null?void 0:d.username)||(d==null?void 0:d.email)||"æ—…è¡Œè€…";f.textContent=g.charAt(0).toUpperCase();const k=document.createElement("span");k.style.cssText=`
      font-weight: 600;
      color: #333;
      font-size: 12px;
    `,k.textContent=g,s.appendChild(f),s.appendChild(k);const $=document.createElement("div");if($.style.cssText=`
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 10px;
    `,l.value.location){const c=document.createElement("div");c.style.cssText=`
        display: flex;
        align-items: center;
        gap: 2px;
        padding: 3px 6px;
        background: rgba(102, 126, 234, 0.1);
        border-radius: 8px;
        color: #667eea;
        font-weight: 500;
        font-size: 10px;
      `,c.innerHTML=`ğŸ“ ${l.value.location}`,$.appendChild(c)}const a=document.createElement("div");a.style.cssText=`
      display: flex;
      align-items: center;
      gap: 2px;
      padding: 3px 6px;
      background: rgba(67, 233, 123, 0.1);
      border-radius: 8px;
      color: #43e97b;
      font-weight: 500;
      font-size: 10px;
    `;const T=l.value.date||new Date().toLocaleDateString("zh-CN");a.innerHTML=`ğŸ•’ ${xe(T)}`,$.appendChild(a),p.appendChild(s),p.appendChild($);const L=document.createElement("div");L.style.cssText=`
      font-size: ${h()?"14px":"16px"};
      line-height: 1.6;
      margin-bottom: 16px;
      word-wrap: break-word;
      overflow-wrap: break-word;
    `;let U=_.value;U=U.replace(/\[å›¾(\d+)\]/g,(c,b)=>{const x=parseInt(b)-1;if(x>=0&&x<y.value.length){const N=y.value[x],H=h()?"480px":"540px";return`<img src="${N.preview}" alt="å›¾ç‰‡${b}" style="width: 100%; max-width: ${H}; height: auto; border-radius: 8px; margin: 12px 0; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); display: block;" />`}return c}),U=U.replace(/\n/g,"<br>"),L.innerHTML=U;const W=document.createElement("div");W.style.cssText=`
      margin-top: 20px;
      padding-top: 16px;
      border-top: 1px solid #f0f0f0;
      text-align: center;
      font-size: 12px;
      color: #999;
    `,W.innerHTML=`
      <div style="font-weight: 600; color: #667eea; margin-bottom: 4px;">ç”±AIæ™ºèƒ½ç”Ÿæˆ</div>
      <div style="font-size: 11px;">è®©æ¯ä¸€æ¬¡æ—…è¡Œéƒ½æœ‰ç²¾å½©çš„æ•…äº‹</div>
    `,t.appendChild(r),t.appendChild(p),t.appendChild(L),t.appendChild(W),document.body.appendChild(t);const te=t.querySelectorAll("img");console.log(`Found ${te.length} images in container`);const ye=Array.from(te).map((c,b)=>new Promise(x=>{if(console.log(`Checking image ${b+1}:`,c.src.substring(0,50)+"..."),c.src.startsWith("data:"))if(c.complete&&c.naturalWidth>0)console.log(`Image ${b+1} already loaded (base64)`),x();else{const N=()=>{console.log(`Image ${b+1} loaded successfully`),x()},H=()=>{console.warn(`Image ${b+1} failed to load`),x()};c.addEventListener("load",N,{once:!0}),c.addEventListener("error",H,{once:!0}),setTimeout(()=>{c.removeEventListener("load",N),c.removeEventListener("error",H),console.log(`Image ${b+1} load timeout, continuing...`),x()},5e3)}else c.complete?x():(c.onload=x,c.onerror=x)}));await Promise.all(ye),console.log("All images processed");const M=t.scrollHeight;let K=h()?1.5:2,q=h()?.8:.9;M>8e3?(K=h()?1.2:1.5,q=h()?.7:.85,m.info("å†…å®¹è¾ƒé•¿ï¼Œæ­£åœ¨ä¼˜åŒ–å›¾ç‰‡è´¨é‡ä»¥ç¡®ä¿ç”ŸæˆæˆåŠŸ...")):M>5e3&&(K=h()?1.3:1.8,q=h()?.75:.87);const oe={useCORS:!0,allowTaint:!0,scale:K,backgroundColor:"#ffffff",logging:!0,width:e,height:M,scrollX:0,scrollY:0,windowWidth:e,windowHeight:M,foreignObjectRendering:!1,imageTimeout:15e3,onclone:c=>{console.log("Document cloned for html2canvas");const b=c.querySelectorAll("img");console.log(`Found ${b.length} images in cloned document`)}};console.log("html2canvas options:",oe),console.log("Container dimensions:",{width:e,height:M}),await new Promise(c=>setTimeout(c,500));const R=await Le(t,oe);if(console.log("Canvas generated:",{width:R.width,height:R.height}),R.width===0||R.height===0)throw new Error("ç”Ÿæˆçš„å›¾ç‰‡å°ºå¯¸ä¸º0ï¼Œå¯èƒ½å­˜åœ¨æ¸²æŸ“é—®é¢˜");document.body.removeChild(t),R.toBlob(c=>{if(c){const b=URL.createObjectURL(c);if(ve()&&!h())B.value=b,F.value=!0,m.success("å›¾ç‰‡å·²ç”Ÿæˆï¼Œè¯·é•¿æŒ‰å›¾ç‰‡ä¿å­˜åˆ°ç›¸å†Œ");else{const x=document.createElement("a");x.href=b,x.download=`æ—…è¡Œæ¸¸è®°_${l.value.location||"æœªçŸ¥åœ°ç‚¹"}_${new Date().toLocaleDateString()}.png`,document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(b),h()?m.success("å›¾ç‰‡å·²ä¸‹è½½åˆ°å¾®ä¿¡ä¸‹è½½æ–‡ä»¶å¤¹"):m.success("åˆ†äº«å›¾ç‰‡å·²ç”Ÿæˆå¹¶ä¸‹è½½")}}else throw new Error("å›¾ç‰‡ç”Ÿæˆå¤±è´¥")},"image/png",q)}catch(t){console.error("ç”Ÿæˆåˆ†äº«å›¾ç‰‡å¤±è´¥:",t),m.error("ç”Ÿæˆåˆ†äº«å›¾ç‰‡å¤±è´¥ï¼Œè¯·é‡è¯•")}finally{A.value=!1}};_e(()=>{});function xe(t){return new Date(t).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"})}return(t,e)=>{const n=S("el-icon"),r=S("el-option"),p=S("el-select"),s=S("el-input"),f=S("el-col"),d=S("el-date-picker"),g=S("el-row"),k=S("el-button"),$=S("el-dialog");return u(),w(O,null,[o("div",Ue,[o("div",Me,[o("div",Re,[e[17]||(e[17]=o("div",{style:{flex:"1"}},[o("h1",{class:"gradient-text",style:{"font-size":"24px",margin:"0"}}," âœ¨ æ™ºèƒ½æ—…è¡Œæ¸¸è®°ç”Ÿæˆå™¨ "),o("p",{style:{margin:"8px 0 0 0",color:"#666"}}," ä¸Šä¼ æ‚¨çš„æ—…è¡Œç…§ç‰‡ï¼ŒAIå°†ä¸ºæ‚¨ç”Ÿæˆç²¾å½©çš„æ—…è¡Œæ¸¸è®° ")],-1)),o("div",{class:"back-button",onClick:e[0]||(e[0]=a=>t.$router.push("/dashboard"))},[o("div",Pe,[i(n,{size:"18"},{default:v(()=>[i(I(Ie))]),_:1})]),e[16]||(e[16]=o("span",{class:"back-text"},"è¿”å›é¦–é¡µ",-1))])])]),o("div",Fe,[o("div",Be,[e[24]||(e[24]=o("h2",{style:{margin:"0 0 20px 0",color:"#333"}},"åˆ›ä½œè®¾ç½®",-1)),o("div",Ne,[e[18]||(e[18]=o("div",{class:"section-title"},"é€‰æ‹©AIæ¨¡å‹",-1)),i(p,{modelValue:l.value.model,"onUpdate:modelValue":e[1]||(e[1]=a=>l.value.model=a),placeholder:"è¯·é€‰æ‹©æ¨¡å‹",style:{width:"100%"}},{default:v(()=>[(u(),w(O,null,Q(le,a=>i(r,{key:a.value,label:a.label,value:a.value,disabled:a.disabled},null,8,["label","value","disabled"])),64))]),_:1},8,["modelValue"])]),o("div",He,[e[20]||(e[20]=o("div",{class:"section-title"},"ä¸Šä¼ æ—…è¡Œç…§ç‰‡",-1)),o("div",{class:J(["upload-area",{dragover:P.value,compressing:z.value}]),onDrop:de,onDragover:e[2]||(e[2]=ke(a=>P.value=!0,["prevent"])),onDragleave:e[3]||(e[3]=a=>P.value=!1),onClick:e[4]||(e[4]=a=>!z.value&&ie())},[z.value?(u(),V(n,{key:1,size:"48",style:{color:"#667eea","margin-bottom":"16px"},class:"rotating"},{default:v(()=>[i(I(Y))]),_:1})):(u(),V(n,{key:0,size:"48",style:{color:"#999","margin-bottom":"16px"}},{default:v(()=>[i(I(Ee))]),_:1})),z.value?(u(),w("p",Ge," æ­£åœ¨å‹ç¼©å›¾ç‰‡ï¼Œè¯·ç¨å€™... ")):(u(),w("p",Oe," ç‚¹å‡»æˆ–æ‹–æ‹½ä¸Šä¼ å›¾ç‰‡ ")),e[19]||(e[19]=o("p",{style:{margin:"8px 0 0 0","font-size":"12px",color:"#999"},class:"mobile-text-xs"}," æ”¯æŒ JPGã€PNGã€JPEG æ ¼å¼ï¼Œæœ€å¤šä¸Šä¼ 9å¼  ",-1))],34),o("input",{ref_key:"fileInput",ref:X,type:"file",multiple:"",accept:"image/*",style:{display:"none"},onChange:re},null,544),y.value.length>0?(u(),w("div",Ye,[(u(!0),w(O,null,Q(y.value,(a,T)=>(u(),w("div",{key:T,class:"image-item"},[o("img",{src:a.preview,alt:`å›¾ç‰‡${T+1}`},null,8,je),o("button",{class:"remove-btn",onClick:L=>ue(T)},"Ã—",8,We)]))),128))])):D("",!0)]),o("div",Ke,[e[21]||(e[21]=o("div",{class:"section-title"},"å†™ä½œé£æ ¼",-1)),i(p,{modelValue:l.value.writingStyle,"onUpdate:modelValue":e[5]||(e[5]=a=>l.value.writingStyle=a),placeholder:"è¯·é€‰æ‹©å†™ä½œé£æ ¼",style:{width:"100%"}},{default:v(()=>[(u(),w(O,null,Q(ne,a=>i(r,{key:a.value,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),l.value.writingStyle==="è‡ªå®šä¹‰"?(u(),V(s,{key:0,modelValue:l.value.customStyle,"onUpdate:modelValue":e[6]||(e[6]=a=>l.value.customStyle=a),type:"textarea",rows:3,placeholder:"è¯·æè¿°æ‚¨æƒ³è¦çš„å†™ä½œé£æ ¼...",style:{"margin-top":"12px"}},null,8,["modelValue"])):D("",!0)]),o("div",qe,[e[22]||(e[22]=o("div",{class:"section-title"},"æ—…è¡Œä¿¡æ¯",-1)),i(g,{gutter:12},{default:v(()=>[i(f,{xs:24,sm:12},{default:v(()=>[i(s,{modelValue:l.value.location,"onUpdate:modelValue":e[7]||(e[7]=a=>l.value.location=a),placeholder:"åœ°ç‚¹ï¼ˆå¦‚ï¼šæµ™æ±Ÿçœæ­å·å¸‚è¥¿æ¹–æ™¯åŒºï¼‰","prefix-icon":"Location"},null,8,["modelValue"])]),_:1}),i(f,{xs:24,sm:12},{default:v(()=>[i(d,{modelValue:l.value.date,"onUpdate:modelValue":e[8]||(e[8]=a=>l.value.date=a),type:"date",placeholder:"é€‰æ‹©æ—¥æœŸ",style:{width:"100%"},format:"YYYY-MM-DD","value-format":"YYYY-MM-DD"},null,8,["modelValue"])]),_:1})]),_:1}),i(s,{modelValue:l.value.companions,"onUpdate:modelValue":e[9]||(e[9]=a=>l.value.companions=a),placeholder:"åŒè¡Œè€…ï¼ˆå¦‚ï¼šå®¶äººã€æœ‹å‹ã€ç‹¬è¡Œï¼‰","prefix-icon":"User",style:{"margin-top":"12px"}},null,8,["modelValue"]),i(s,{modelValue:l.value.specialExp,"onUpdate:modelValue":e[10]||(e[10]=a=>l.value.specialExp=a),type:"textarea",rows:2,placeholder:"ç‰¹è‰²ä½“éªŒï¼ˆå¦‚ï¼šå“å°è¥¿æ¹–é†‹é±¼ã€æ¸¸èˆ¹ã€çœ‹æ—¥è½ï¼‰",style:{"margin-top":"12px"}},null,8,["modelValue"]),i(s,{modelValue:l.value.emotionKeywords,"onUpdate:modelValue":e[11]||(e[11]=a=>l.value.emotionKeywords=a),placeholder:"æƒ…æ„Ÿå…³é”®è¯ï¼ˆå¦‚ï¼šæ‚ é—²ã€æƒŠå–œã€æ¸©é¦¨ï¼‰","prefix-icon":"Star",style:{"margin-top":"12px"}},null,8,["modelValue"]),i(s,{modelValue:l.value.otherInfo,"onUpdate:modelValue":e[12]||(e[12]=a=>l.value.otherInfo=a),type:"textarea",rows:2,placeholder:"å…¶ä»–ä¿¡æ¯",style:{"margin-top":"12px"}},null,8,["modelValue"])]),o("div",Je,[o("div",{class:J(["generate-button",{generating:E.value,disabled:y.value.length===0}]),onClick:pe},[o("div",Qe,[o("div",Xe,[E.value?(u(),V(n,{key:1,size:"24",class:"rotating"},{default:v(()=>[i(I(Y))]),_:1})):(u(),V(n,{key:0,size:"24"},{default:v(()=>[i(I(Te))]),_:1}))]),o("div",Ze,[o("span",et,G(E.value?"æ­£åœ¨ç”Ÿæˆä¸­...":"ç”Ÿæˆæ¸¸è®°"),1),o("span",tt,G(E.value?"AIæ­£åœ¨ä¸ºæ‚¨åˆ›ä½œç²¾å½©æ¸¸è®°":"ç‚¹å‡»å¼€å§‹AIåˆ›ä½œä¹‹æ—…"),1)])])],2),E.value?(u(),w("div",{key:0,class:"cancel-button",onClick:me},[i(n,{size:"16"},{default:v(()=>[i(I($e))]),_:1}),e[23]||(e[23]=o("span",null,"å–æ¶ˆç”Ÿæˆ",-1))])):D("",!0)])]),o("div",ot,[o("div",at,[e[26]||(e[26]=o("h2",{style:{margin:"0",color:"#333"}},"ç”Ÿæˆç»“æœ",-1)),_.value?(u(),w("div",lt,[o("div",{class:"action-btn copy",onClick:ge},[i(n,{size:"16"},{default:v(()=>[i(I(Se))]),_:1}),e[25]||(e[25]=o("span",null,"å¤åˆ¶",-1))]),o("div",{class:J(["action-btn share",{generating:A.value}]),onClick:fe},[A.value?(u(),V(n,{key:1,size:"16",class:"rotating"},{default:v(()=>[i(I(Y))]),_:1})):(u(),V(n,{key:0,size:"16"},{default:v(()=>[i(I(ze))]),_:1})),o("span",null,G(A.value?"ç”Ÿæˆä¸­...":"åˆ†äº«å›¾ç‰‡"),1)],2)])):D("",!0)]),!_.value&&!E.value?(u(),w("div",nt,[i(n,{size:"64"},{default:v(()=>[i(I(Ve))]),_:1}),e[27]||(e[27]=o("p",{style:{margin:"20px 0 0 0","font-size":"16px"},class:"mobile-text-sm"}," ä¸Šä¼ å›¾ç‰‡å¹¶å¡«å†™ä¿¡æ¯åï¼Œç‚¹å‡»ç”ŸæˆæŒ‰é’®å¼€å§‹åˆ›ä½œ ",-1))])):D("",!0),E.value?(u(),w("div",st,[i(n,{size:"64",class:"rotating"},{default:v(()=>[i(I(Y))]),_:1}),e[28]||(e[28]=o("p",{style:{margin:"20px 0 0 0",color:"#666"},class:"mobile-text-sm"}," AIæ­£åœ¨ä¸ºæ‚¨åˆ›ä½œæ¸¸è®°ï¼Œè¯·ç¨å€™... ",-1))])):D("",!0),_.value?(u(),w("div",it,[o("div",{class:"result-content",innerHTML:se.value,ref_key:"resultContentRef",ref:Z},null,8,rt)])):D("",!0)])])]),i($,{modelValue:F.value,"onUpdate:modelValue":e[14]||(e[14]=a=>F.value=a),title:"åˆ†äº«å›¾ç‰‡",width:"90%",class:"image-preview-dialog",onClose:e[15]||(e[15]=()=>{t.URL.revokeObjectURL(B.value),B.value=""})},{footer:v(()=>[i(k,{onClick:e[13]||(e[13]=a=>F.value=!1),type:"primary"},{default:v(()=>e[31]||(e[31]=[De("çŸ¥é“äº†")])),_:1,__:[31]})]),default:v(()=>[o("div",dt,[o("img",{src:B.value,alt:"åˆ†äº«å›¾ç‰‡",class:"preview-image"},null,8,ct),o("div",ut,[e[30]||(e[30]=o("div",{class:"tip-icon"},"ğŸ’¾",-1)),o("div",pt,[o("p",mt,G(h()?"ä¿å­˜å›¾ç‰‡åˆ°ç›¸å†Œ":"é•¿æŒ‰å›¾ç‰‡ä¿å­˜åˆ°ç›¸å†Œ"),1),h()?(u(),w("div",vt,e[29]||(e[29]=[o("p",{class:"tip-desc"},'â€¢ é•¿æŒ‰å›¾ç‰‡ï¼Œé€‰æ‹©"ä¿å­˜å›¾ç‰‡"',-1),o("p",{class:"tip-desc"},"â€¢ å¦‚æœé•¿æŒ‰æ— æ•ˆï¼Œå¯ä»¥æˆªå±ä¿å­˜",-1),o("p",{class:"tip-desc"},'â€¢ æˆ–è€…ç‚¹å‡»å³ä¸Šè§’"..."åˆ†äº«ç»™æœ‹å‹',-1)]))):(u(),w("p",gt,'åœ¨å›¾ç‰‡ä¸Šé•¿æŒ‰ï¼Œé€‰æ‹©"ä¿å­˜å›¾ç‰‡"æˆ–"å­˜å‚¨å›¾åƒ"'))])])])]),_:1},8,["modelValue"])],64)}}},bt=Ae(ft,[["__scopeId","data-v-ef7e2e44"]]);export{bt as default};
